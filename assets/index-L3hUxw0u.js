(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function e(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(t){if(t.ep)return;t.ep=!0;const c=e(t);fetch(t.href,c)}})();(()=>{let a=0,r=document.querySelector(".loading-mask");return r||(r=document.createElement("div"),r.className="loading-mask d-none",r.innerHTML='<div class="loading-circle-notch"></div>',document.body.appendChild(r)),{show(){a++,a===1&&r.classList.remove("d-none")},hide(){a>0&&(a--,a===0&&r.classList.add("d-none"))}}})();var u=[],E="all",y="";function R(){for(var a=[],r=0;r<u.length;r++){var e=u[r].categories;Array.isArray(e)&&e.forEach(function(o){a.includes(o)||a.push(o)})}return a.sort()}function H(){var a=R(),r=document.getElementById("menuItems");if(r.innerHTML="",a.forEach(function(o){var t=document.createElement("div");t.className="menu-item",t.setAttribute("data-section",o),t.textContent=o,t.onclick=function(){var c=document.querySelectorAll(".menu-item");c.forEach(function(i){i.classList.remove("active")}),this.classList.add("active"),E=this.getAttribute("data-section"),C(),window.innerWidth<=768&&k()},r.appendChild(t)}),a.length===0){var e=document.createElement("div");e.className="menu-item",e.setAttribute("data-section","page"),e.textContent="page",e.onclick=function(){var o=document.querySelectorAll(".menu-item");o.forEach(function(t){t.classList.remove("active")}),this.classList.add("active"),E="page",C(),window.innerWidth<=768&&k()},r.appendChild(e)}}function P(a,r){var e=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),o=[];function t(n,s){var l=o.length;return o.push({html:'<span class="token-'+s+'">'+n+"</span>"}),"###__PH__"+l+"__PH__###"}r==="javascript"?e=e.replace(/&quot;[^&]*?&quot;|&#x27;[^&]*?&#x27;|`[^`]*?`/g,function(n){return t(n,"string")}).replace(/\/\/[^\n]*/g,function(n){return t(n,"comment")}).replace(/\/\*[\s\S]*?\*\//g,function(n){return t(n,"comment")}):r==="csharp"?e=e.replace(/&quot;[^&]*?&quot;/g,function(n){return t(n,"string")}).replace(/\/\/[^\n]*/g,function(n){return t(n,"comment")}):r==="sql"?e=e.replace(/&quot;[^&]*?&quot;/g,function(n){return t(n,"string")}).replace(/--[^\n]*/g,function(n){return t(n,"comment")}):r==="scss"?e=e.replace(/&quot;[^&]*?&quot;|&#x27;[^&]*?&#x27;/g,function(n){return t(n,"string")}).replace(/\/\/[^\n]*/g,function(n){return t(n,"comment")}).replace(/\/\*[\s\S]*?\*\//g,function(n){return t(n,"comment")}):r==="css"?e=e.replace(/&quot;[^&]*?&quot;|&#x27;[^&]*?&#x27;/g,function(n){return t(n,"string")}).replace(/\/\*[\s\S]*?\*\//g,function(n){return t(n,"comment")}):r==="html"&&(e=e.replace(/&quot;[^&]*?&quot;|&#x27;[^&]*?&#x27;/g,function(n){return t(n,"string")}).replace(/&lt;!--[\s\S]*?--&gt;/g,function(n){return t(n,"comment")})),r==="javascript"?e=e.replace(/\b(const|let|var|function|return|if|else|for|while|do|switch|case|break|continue|import|from|export|default|async|await|try|catch|finally|throw|new|this|super|extends|class|true|false|null|undefined)\b/g,'<span class="token-keyword">$1</span>').replace(/\b([a-zA-Z_]\w*)\s*(?=\()/g,'<span class="token-function">$1</span>').replace(/\b(\d+)\b/g,'<span class="token-number">$1</span>').replace(/&lt;([a-zA-Z][a-zA-Z0-9-]*)/g,'&lt;<span class="token-keyword">$1</span>').replace(/&lt;\/([a-zA-Z][a-zA-Z0-9-]*)/g,'&lt;/<span class="token-keyword">$1</span>'):r==="csharp"?e=e.replace(/\b(public|private|protected|static|class|void|var|using|async|await|Task|new|return|if|else|for|while|from|where|select|throw|try|catch|finally)\b/g,'<span class="token-keyword">$1</span>').replace(/\b(List|Dictionary|HttpClient|string|int|bool|double|float|decimal|long|short)\b/g,'<span class="token-type">$1</span>').replace(/\b(\d+)\b/g,'<span class="token-number">$1</span>'):r==="sql"?e=e.replace(/\b(SELECT|FROM|WHERE|CREATE|PROCEDURE|AS|BEGIN|END|EXEC|INSERT|UPDATE|DELETE|JOIN|ON|LEFT|RIGHT|INNER|OUTER|GROUP|BY|ORDER|DESC|ASC|INT|VARCHAR|NVARCHAR|DATETIME)\b/gi,'<span class="token-keyword">$&</span>').replace(/\b(\d+)\b/g,'<span class="token-number">$1</span>'):r==="scss"?e=e.replace(/(@[\w-]+)/g,'<span class="token-keyword">$1</span>').replace(/([\w-]+)(?=\s*:)/g,'<span class="token-property">$1</span>').replace(/(#[0-9a-f]{3,6}|[\d.]+(?:px|em|%|rem|ch|ex|cm|mm|in|pt|pc|vh|vw))/gi,'<span class="token-number">$1</span>'):r==="css"?e=e.replace(/([\w-]+)(?=\s*\{)/g,'<span class="token-selector">$1</span>').replace(/([\w-]+)(?=\s*:)/g,'<span class="token-property">$1</span>').replace(/(#[0-9a-f]{3,6}|[\d.]+(?:px|em|%|rem|ch|ex|cm|mm|in|pt|pc|vh|vw))/gi,'<span class="token-number">$1</span>'):r==="html"&&(e=e.replace(/&lt;([a-zA-Z][a-zA-Z0-9-]*)/g,'&lt;<span class="token-keyword">$1</span>').replace(/&lt;\/([a-zA-Z][a-zA-Z0-9-]*)/g,'&lt;/<span class="token-keyword">$1</span>'));for(var c=Math.max(5,o.length),i=0;/###__PH__(\d+)__PH__###/.test(e)&&i<c;)e=e.replace(/###__PH__(\d+)__PH__###/g,function(n,s){var l=Number(s);return o[l]&&o[l].html?o[l].html:""}),i++;return e}function z(a){var r=a.toLowerCase().replace(/\s/g,"").replace("#","sharp").replace("ms",""),e=document.createElement("span");return e.className="category-badge "+r,e.textContent=a,e}function C(){for(var a=[],r=0;r<u.length;r++){var e=u[r],o=E==="all"||Array.isArray(e.categories)&&e.categories.indexOf(E)!==-1,t=!y||e.title.toLowerCase().indexOf(y)!==-1||e.description.toLowerCase().indexOf(y)!==-1;if(!t&&Array.isArray(e.code)){for(var c=0;c<e.code.length;c++)if(e.code[c].content.toLowerCase().indexOf(y)!==-1){t=!0;break}}o&&t&&a.push(e)}document.getElementById("count").textContent=a.length;var i=document.getElementById("codeGrid");i.innerHTML="";for(var r=0;r<a.length;r++){var n=a[r],s=document.createElement("div");s.className="code-card";var l=document.createElement("div");l.className="card-header";var p=document.createElement("div");p.className="card-title";var v=document.createElement("h3");v.textContent=n.title;var m=document.createElement("div");m.className="category-badges";var d=(n.title||"").split(/[-_\s]+/),w=d[0]&&d[0].length?d[0]:n.categories&&n.categories[0]||"page";m.appendChild(z(w)),p.appendChild(v),p.appendChild(m),l.appendChild(p);var f=document.createElement("div");f.className="code-block";var h=document.createElement("button");if(h.className="copy-btn",h.textContent="複製全部",h.setAttribute("data-id",n.id),h.onclick=function(){for(var L=parseInt(this.getAttribute("data-id")),b=0;b<u.length;b++)if(u[b].id===L){var $=u[b].code.map(function(S){return"// "+S.language+`
`+S.content}).join(`

`);navigator.clipboard.writeText($),this.textContent="已複製!",this.classList.add("copied");var T=this;setTimeout(function(){T.textContent="複製全部",T.classList.remove("copied")},2e3);break}},f.appendChild(h),Array.isArray(n.code))for(var g=0;g<n.code.length;g++){var A=n.code[g],x=document.createElement("div");x.style.cssText="padding: 10px 20px; background: rgba(0, 0, 0, 0.3); border-bottom: 1px solid rgba(255, 255, 255, 0.1); color: #61AFEF; font-size: 12px; font-weight: 600;",x.textContent=A.language.toUpperCase(),f.appendChild(x);var N=document.createElement("pre"),q=document.createElement("code"),O=P(A.content,A.language);q.innerHTML=O,N.appendChild(q),f.appendChild(N)}var _=document.createElement("div");_.className="card-footer",_.textContent=Array.isArray(n.code)?n.code.map(function(L){return L.language}).join(" + "):"",s.appendChild(l),s.appendChild(f),s.appendChild(_),i.appendChild(s)}}function k(){document.getElementById("sidebar").classList.toggle("show")}document.getElementById("searchInput").addEventListener("input",function(a){y=a.target.value.toLowerCase(),C()});document.querySelectorAll(".menu-item")[0].addEventListener("click",function(){for(var a=document.querySelectorAll(".menu-item"),r=0;r<a.length;r++)a[r].classList.remove("active");this.classList.add("active"),E="all",C(),window.innerWidth<=768&&k()});function I(a,r){for(var e=new DOMParser,o=e.parseFromString(a,"text/html"),t=o.querySelector("title")?o.querySelector("title").textContent:r,c=o.body||document.createElement("body"),i=c.cloneNode(!0),n=i.querySelectorAll("script"),s=0;s<n.length;s++)n[s].parentNode.removeChild(n[s]);var l=i.innerHTML.trimEnd(),p=c.querySelectorAll("script"),v=[];l&&v.push({language:"html",content:l});for(var m=0;m<p.length;m++){var d=p[m].textContent||"";d=d.trimEnd(),d&&v.push({language:"javascript",content:d})}var w=t.split(/[\s\-_]+/),f=w[0]||"Uncategorized",h=[f],g=r.replace(/\.html$/i,"").replace(/[^a-zA-Z0-9_\-]/g,"_");return{id:g,title:t,categories:h,description:"從 page 資料夾的 "+r+" 解析而來",source:{text:"page",url:"../page/"+r},code:v}}const M=async()=>{try{Loading.show();var a={react:["react001.html","react002.html","react003.html","react004.html"],javascript:[],csharp:[]},r=[];Object.keys(a).forEach(function(t){var c=a[t];c.forEach(function(i){var n=window.__BASE_URL__+"page/"+t+"/"+i;r.push(fetch(n).then(function(s){if(!s.ok)throw new Error("fetch "+t+"/"+i+" failed: "+s.status);return s.text()}).then(function(s){return I(s,i)}).catch(function(s){return console.error("無法載入頁面檔案:",t+"/"+i,s),null}))})});var e=await Promise.all(r),o=e.filter(function(t){return t});u=o,H(),C()}catch(t){console.error("初始化失敗",t),typeof axiosError=="function"&&axiosError(t)}finally{Loading.hide()}};M();
