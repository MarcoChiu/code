(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();const O=r=>{const e=r.closest(".orderInfo-inputWrap").querySelector(".orderInfo-message");let t=!0;return e.textContent="",e.classList.remove("error"),r.required&&r.value.trim()===""&&(e.textContent=r.tagName==="SELECT"?`請選擇${r.name}`:`請輸入${r.name}`,e.classList.add("error"),t=!1),r.type==="email"&&r.value.trim()!==""&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.value)||(e.textContent="Email 格式不正確",e.classList.add("error"),t=!1)),r.type==="tel"&&r.value.trim()!==""&&(/^09\d{8}$/.test(r.value)||(e.textContent="電話手機格式不正確",e.classList.add("error"),t=!1)),t},P=r=>{const e=document.querySelector(r);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},H=r=>{let e=new Date(parseInt(r)*1e3),t=e.getFullYear(),o=e.getMonth()+1;o=o<10?"0"+o:o;let n=e.getDate();n=n<10?"0"+n:n;let s=e.getHours();s=s<10?"0"+s:s;let i=e.getMinutes(),a=e.getSeconds();return i=i<10?"0"+i:i,a=a<10?"0"+a:a,t+"-"+o+"-"+n+" "+s+":"+i+":"+a},I=r=>Math.floor(new Date(r).getTime()/1e3),M=(r,e=0)=>{let o=r.toFixed(e).split("."),n=o[0],s=o.length>1?"."+o[1]:"",i=/(\d)(?=(\d{3})+(?!\d))/g;return n=n.replace(i,"$1,"),n+s},z=r=>{if(!axios.isAxiosError(r))return Swal.fire({icon:"error",showCloseButton:!0,title:"Unexpected Error",text:r.message});const{code:e,response:t,request:o,message:n}=r;let s,i;e==="ERR_NETWORK"?(s="NETWORK Error",i="請檢查網路是否正常!!"):t?.status===404?(s="Not Found",i="找不到網頁，請檢查網址是否正確!!"):t?(s=t.status,i=t.data?.message||n):o?(s="Request Error",i=o):(s="Axios configuration error",i=n),Swal.fire({icon:"error",showCloseButton:!0,title:s,text:i})},F=async r=>response=await Promise.all(r.map(e=>axios.get(e.url,e.headers))),U=async r=>response=await Promise.all(r.map(e=>axios.post(e.url,e.obj,e.headers))),j=async r=>response=await Promise.all(r.map(e=>axios.patch(e.url,e.obj,e.headers))),D=async r=>response=await Promise.all(r.map(e=>axios.put(e.url,e.obj,e.headers))),Z=async r=>response=await Promise.all(r.map(e=>axios.delete(e.url,e.headers)));window.validateForm=O;window.scrollTo=P;window.fUnixTimeToDate=H;window.fDateToUnixTime=I;window.fNumThree=M;window.axiosError=z;window.getApi=F;window.postApi=U;window.patchApi=j;window.putApi=D;window.deleteApi=Z;const W=(()=>{let r=0,e=document.querySelector(".loading-mask");return e||(e=document.createElement("div"),e.className="loading-mask d-none",e.innerHTML='<div class="loading-circle-notch"></div>',document.body.appendChild(e)),{show(){r++,r===1&&e.classList.remove("d-none")},hide(){r>0&&(r--,r===0&&e.classList.add("d-none"))}}})();window.Loading=W;var u=[],y="all",w="";function B(){for(var r=[],e=0;e<u.length;e++){var t=u[e].categories;Array.isArray(t)&&t.forEach(function(o){r.includes(o)||r.push(o)})}return r.sort()}function G(){var r=B(),e=document.getElementById("menuItems");if(e.innerHTML="",r.forEach(function(o){var n=document.createElement("div");n.className="menu-item",n.setAttribute("data-section",o),n.textContent=o,n.onclick=function(){var s=document.querySelectorAll(".menu-item");s.forEach(function(i){i.classList.remove("active")}),this.classList.add("active"),y=this.getAttribute("data-section"),E(),window.innerWidth<=768&&C()},e.appendChild(n)}),r.length===0){var t=document.createElement("div");t.className="menu-item",t.setAttribute("data-section","page"),t.textContent="page",t.onclick=function(){var o=document.querySelectorAll(".menu-item");o.forEach(function(n){n.classList.remove("active")}),this.classList.add("active"),y="page",E(),window.innerWidth<=768&&C()},e.appendChild(t)}}function V(r,e){var t=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),o=[];function n(a,c){var l=o.length;return o.push({html:'<span class="token-'+c+'">'+a+"</span>"}),"###__PH__"+l+"__PH__###"}e==="javascript"?t=t.replace(/&quot;[^&]*?&quot;|&#x27;[^&]*?&#x27;|`[^`]*?`/g,function(a){return n(a,"string")}).replace(/\/\/[^\n]*/g,function(a){return n(a,"comment")}).replace(/\/\*[\s\S]*?\*\//g,function(a){return n(a,"comment")}):e==="csharp"?t=t.replace(/&quot;[^&]*?&quot;/g,function(a){return n(a,"string")}).replace(/\/\/[^\n]*/g,function(a){return n(a,"comment")}):e==="sql"?t=t.replace(/&quot;[^&]*?&quot;/g,function(a){return n(a,"string")}).replace(/--[^\n]*/g,function(a){return n(a,"comment")}):e==="scss"?t=t.replace(/&quot;[^&]*?&quot;|&#x27;[^&]*?&#x27;/g,function(a){return n(a,"string")}).replace(/\/\/[^\n]*/g,function(a){return n(a,"comment")}).replace(/\/\*[\s\S]*?\*\//g,function(a){return n(a,"comment")}):e==="css"?t=t.replace(/&quot;[^&]*?&quot;|&#x27;[^&]*?&#x27;/g,function(a){return n(a,"string")}).replace(/\/\*[\s\S]*?\*\//g,function(a){return n(a,"comment")}):e==="html"&&(t=t.replace(/&quot;[^&]*?&quot;|&#x27;[^&]*?&#x27;/g,function(a){return n(a,"string")}).replace(/&lt;!--[\s\S]*?--&gt;/g,function(a){return n(a,"comment")})),e==="javascript"?t=t.replace(/\b(const|let|var|function|return|if|else|for|while|do|switch|case|break|continue|import|from|export|default|async|await|try|catch|finally|throw|new|this|super|extends|class|true|false|null|undefined)\b/g,'<span class="token-keyword">$1</span>').replace(/\b([a-zA-Z_]\w*)\s*(?=\()/g,'<span class="token-function">$1</span>').replace(/\b(\d+)\b/g,'<span class="token-number">$1</span>').replace(/&lt;([a-zA-Z][a-zA-Z0-9-]*)/g,'&lt;<span class="token-keyword">$1</span>').replace(/&lt;\/([a-zA-Z][a-zA-Z0-9-]*)/g,'&lt;/<span class="token-keyword">$1</span>'):e==="csharp"?t=t.replace(/\b(public|private|protected|static|class|void|var|using|async|await|Task|new|return|if|else|for|while|from|where|select|throw|try|catch|finally)\b/g,'<span class="token-keyword">$1</span>').replace(/\b(List|Dictionary|HttpClient|string|int|bool|double|float|decimal|long|short)\b/g,'<span class="token-type">$1</span>').replace(/\b(\d+)\b/g,'<span class="token-number">$1</span>'):e==="sql"?t=t.replace(/\b(SELECT|FROM|WHERE|CREATE|PROCEDURE|AS|BEGIN|END|EXEC|INSERT|UPDATE|DELETE|JOIN|ON|LEFT|RIGHT|INNER|OUTER|GROUP|BY|ORDER|DESC|ASC|INT|VARCHAR|NVARCHAR|DATETIME)\b/gi,'<span class="token-keyword">$&</span>').replace(/\b(\d+)\b/g,'<span class="token-number">$1</span>'):e==="scss"?t=t.replace(/(@[\w-]+)/g,'<span class="token-keyword">$1</span>').replace(/([\w-]+)(?=\s*:)/g,'<span class="token-property">$1</span>').replace(/(#[0-9a-f]{3,6}|[\d.]+(?:px|em|%|rem|ch|ex|cm|mm|in|pt|pc|vh|vw))/gi,'<span class="token-number">$1</span>'):e==="css"?t=t.replace(/([\w-]+)(?=\s*\{)/g,'<span class="token-selector">$1</span>').replace(/([\w-]+)(?=\s*:)/g,'<span class="token-property">$1</span>').replace(/(#[0-9a-f]{3,6}|[\d.]+(?:px|em|%|rem|ch|ex|cm|mm|in|pt|pc|vh|vw))/gi,'<span class="token-number">$1</span>'):e==="html"&&(t=t.replace(/&lt;([a-zA-Z][a-zA-Z0-9-]*)/g,'&lt;<span class="token-keyword">$1</span>').replace(/&lt;\/([a-zA-Z][a-zA-Z0-9-]*)/g,'&lt;/<span class="token-keyword">$1</span>'));for(var s=Math.max(5,o.length),i=0;/###__PH__(\d+)__PH__###/.test(t)&&i<s;)t=t.replace(/###__PH__(\d+)__PH__###/g,function(a,c){var l=Number(c);return o[l]&&o[l].html?o[l].html:""}),i++;return t}function K(r){var e=r.toLowerCase().replace(/\s/g,"").replace("#","sharp").replace("ms",""),t=document.createElement("span");return t.className="category-badge "+e,t.textContent=r,t}function E(){for(var r=[],e=0;e<u.length;e++){var t=u[e],o=y==="all"||Array.isArray(t.categories)&&t.categories.indexOf(y)!==-1,n=!w||t.title.toLowerCase().indexOf(w)!==-1||t.description.toLowerCase().indexOf(w)!==-1;if(!n&&Array.isArray(t.code)){for(var s=0;s<t.code.length;s++)if(t.code[s].content.toLowerCase().indexOf(w)!==-1){n=!0;break}}o&&n&&r.push(t)}document.getElementById("count").textContent=r.length;var i=document.getElementById("codeGrid");i.innerHTML="";for(var e=0;e<r.length;e++){var a=r[e],c=document.createElement("div");c.className="code-card";var l=document.createElement("div");l.className="card-header";var p=document.createElement("div");p.className="card-title";var h=document.createElement("h3");h.textContent=a.title;var m=document.createElement("div");m.className="category-badges";var d=(a.title||"").split(/[-_\s]+/),b=d[0]&&d[0].length?d[0]:a.categories&&a.categories[0]||"page";m.appendChild(K(b)),p.appendChild(h),p.appendChild(m),l.appendChild(p);var f=document.createElement("div");f.className="code-block";var g=document.createElement("button");if(g.className="copy-btn",g.textContent="複製全部",g.setAttribute("data-id",a.id),g.onclick=function(){for(var N=parseInt(this.getAttribute("data-id")),x=0;x<u.length;x++)if(u[x].id===N){var $=u[x].code.map(function(k){return"// "+k.language+`
`+k.content}).join(`

`);navigator.clipboard.writeText($),this.textContent="已複製!",this.classList.add("copied");var S=this;setTimeout(function(){S.textContent="複製全部",S.classList.remove("copied")},2e3);break}},f.appendChild(g),Array.isArray(a.code))for(var v=0;v<a.code.length;v++){var A=a.code[v],L=document.createElement("div");L.style.cssText="padding: 10px 20px; background: rgba(0, 0, 0, 0.3); border-bottom: 1px solid rgba(255, 255, 255, 0.1); color: #61AFEF; font-size: 12px; font-weight: 600;",L.textContent=A.language.toUpperCase(),f.appendChild(L);var _=document.createElement("pre"),q=document.createElement("code"),R=V(A.content,A.language);q.innerHTML=R,_.appendChild(q),f.appendChild(_)}var T=document.createElement("div");T.className="card-footer",T.textContent=Array.isArray(a.code)?a.code.map(function(N){return N.language}).join(" + "):"",c.appendChild(l),c.appendChild(f),c.appendChild(T),i.appendChild(c)}}function C(){document.getElementById("sidebar").classList.toggle("show")}window.toggleSidebar=C;document.getElementById("searchInput").addEventListener("input",function(r){w=r.target.value.toLowerCase(),E()});document.querySelectorAll(".menu-item")[0].addEventListener("click",function(){for(var r=document.querySelectorAll(".menu-item"),e=0;e<r.length;e++)r[e].classList.remove("active");this.classList.add("active"),y="all",E(),window.innerWidth<=768&&C()});function Y(r,e){for(var t=new DOMParser,o=t.parseFromString(r,"text/html"),n=o.querySelector("title")?o.querySelector("title").textContent:e,s=o.body||document.createElement("body"),i=s.cloneNode(!0),a=i.querySelectorAll("script"),c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c]);var l=i.innerHTML.trimEnd(),p=s.querySelectorAll("script"),h=[];l&&h.push({language:"html",content:l});for(var m=0;m<p.length;m++){var d=p[m].textContent||"";d=d.trimEnd(),d&&h.push({language:"javascript",content:d})}var b=n.split(/[\s\-_]+/),f=b[0]||"Uncategorized",g=[f],v=e.replace(/\.html$/i,"").replace(/[^a-zA-Z0-9_\-]/g,"_");return{id:v,title:n,categories:g,description:"從 page 資料夾的 "+e+" 解析而來",source:{text:"page",url:"../page/"+e},code:h}}const J=async()=>{try{Loading.show();var r={react:["react001.html","react002.html","react003.html","react004.html"],javascript:[],csharp:[]},e=[];Object.keys(r).forEach(function(n){var s=r[n];s.forEach(function(i){var a=window.__BASE_URL__+"page/"+n+"/"+i;e.push(fetch(a).then(function(c){if(!c.ok)throw new Error("fetch "+n+"/"+i+" failed: "+c.status);return c.text()}).then(function(c){return Y(c,i)}).catch(function(c){return console.error("無法載入頁面檔案:",n+"/"+i,c),null}))})});var t=await Promise.all(e),o=t.filter(function(n){return n});u=o,G(),E()}catch(n){console.error("初始化失敗",n),typeof axiosError=="function"&&axiosError(n)}finally{Loading.hide()}};J();
